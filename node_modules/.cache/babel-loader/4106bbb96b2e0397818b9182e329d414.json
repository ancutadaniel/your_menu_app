{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"E:\\\\Scoala IT\\\\Your Menu App\\\\Your Menu App\\\\src\\\\views\\\\pages\\\\SignUp.js\";\nimport React from 'react';\nimport '../../App.css';\nimport '../../SignUp.css';\nimport UserContext from '../../shared/user.context';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport { Button, Form, Container, Row, Image, Col } from 'react-bootstrap';\nimport { logo } from '../../images/index';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Cart } from './Cart';\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignUp, _React$Component);\n\n  function SignUp(props) {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUp).call(this, props));\n    _this.apiUrl = \"http://localhost:3004/users\";\n    _this.state = {\n      id: 0,\n      user: {},\n      name: '',\n      email: '',\n      password: '',\n      redirect: false,\n      validated: false,\n      isValid: true,\n      userExist: []\n    };\n    _this.inputChanged = _this.inputChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.formSubmit = _this.formSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"inputChanged\",\n    value: function () {\n      var _inputChanged = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var value, user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // hot plate\n                value = e.currentTarget.value;\n                user = this.state.user;\n                user[e.currentTarget.id] = value;\n                this.setState({\n                  user: user\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function inputChanged(_x) {\n        return _inputChanged.apply(this, arguments);\n      }\n\n      return inputChanged;\n    }()\n  }, {\n    key: \"formSubmit\",\n    value: function () {\n      var _formSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        var form, resp;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                form = e.currentTarget;\n\n                if (!(form.checkValidity() === false)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 4:\n                _context2.next = 6;\n                return axios.post(this.apiUrl, this.state.user);\n\n              case 6:\n                resp = _context2.sent;\n                console.log(resp.data);\n                this.context.handleUserChange(resp.data);\n                this.setState({\n                  validated: true,\n                  user: resp.data,\n                  redirect: true\n                });\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function formSubmit(_x2) {\n        return _formSubmit.apply(this, arguments);\n      }\n\n      return formSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.redirect === true) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      }\n\n      var validated = this.state.validated;\n      return React.createElement(UserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, function (_ref) {\n        var user = _ref.user,\n            handleUserChange = _ref.handleUserChange;\n        return React.createElement(Container, {\n          fluid: true,\n          className: \"sign_up_container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(Container, {\n          className: \"form_container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(Image, {\n          src: logo,\n          width: \"80\",\n          height: \"80\",\n          className: \"d-inline-block align-top\",\n          alt: \"React Bootstrap logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: ['fas', 'user-plus'],\n          size: 'lg',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }), \"SIGN UP\")), React.createElement(Form, {\n          noValidate: true,\n          validated: validated,\n          onSubmit: function onSubmit(e) {\n            return _this2.formSubmit(e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(Form.Group, {\n          className: \"form_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          required: true,\n          id: \"name\",\n          type: \"text\",\n          value: _this2.state.user.name,\n          onChange: _this2.inputChanged,\n          placeholder: \"Name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }), React.createElement(Form.Control.Feedback, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Looks good!\"), React.createElement(Form.Control.Feedback, {\n          type: \"invalid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Please enter a name.\")), React.createElement(Form.Group, {\n          className: \"form_email\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          required: true,\n          id: \"email\",\n          type: \"email\",\n          value: _this2.state.user.email,\n          onChange: _this2.inputChanged,\n          placeholder: \"Enter email\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }), React.createElement(Form.Control.Feedback, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Looks good!\"), React.createElement(Form.Control.Feedback, {\n          type: \"invalid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Please provide a valid email.\"), React.createElement(Form.Text, {\n          className: \"text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"We'll never share your email with anyone else.\")), React.createElement(Form.Group, {\n          className: \"form_password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(Form.Control, {\n          required: true,\n          id: \"password\",\n          type: \"password\",\n          value: _this2.state.user.password,\n          onChange: _this2.inputChanged,\n          placeholder: \"Password\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }), React.createElement(Form.Control.Feedback, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \"Super Password!\"), React.createElement(Form.Control.Feedback, {\n          type: \"invalid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"Please set a strong password.\")), React.createElement(Form.Group, {\n          className: \"form_submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(Form.Check, {\n          id: \"formBasicChecbox\",\n          type: \"checkbox\",\n          label: \"Keep me logged in to my account\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        })), React.createElement(Button, {\n          type: \"submit\",\n          variant: \"outline-secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Login\")), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, !_this2.state.isValid ? \"Name, email or password is missing\" : '')))) // <div className=\"App\">\n        //     <h2>Welcome, {user.name} { this.state.userExist.map(user => user.name)}</h2>\n        //   {/* <ButtonToolbar>\n        //     <Button variant=\"primary\" onClick={() => this.setState({ modalShow: true })}> Log In </Button>\n        //     <ModalLogin show={this.state.modalShow} onHide={modalClose} />\n        //   </ButtonToolbar> */}\n        //     <div>\n        //       {/* <p>{JSON.stringify(this.state)}</p>   */}\n        //       <p>{ this.state.userExist.map(user => user.name)}</p>                  \n        //     </div>\n        // </div>\n        ;\n      });\n    }\n  }]);\n\n  return SignUp;\n}(React.Component);\n\nSignUp.contextType = UserContext;\nexport default SignUp;","map":{"version":3,"sources":["E:\\Scoala IT\\Your Menu App\\Your Menu App\\src\\views\\pages\\SignUp.js"],"names":["React","UserContext","Redirect","axios","Button","Form","Container","Row","Image","Col","logo","FontAwesomeIcon","Cart","SignUp","props","apiUrl","state","id","user","name","email","password","redirect","validated","isValid","userExist","inputChanged","bind","formSubmit","e","value","currentTarget","setState","preventDefault","form","checkValidity","post","resp","console","log","data","context","handleUserChange","Component","contextType"],"mappings":"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","sourcesContent":["import React  from 'react';\r\nimport '../../App.css';\r\nimport '../../SignUp.css';\r\nimport UserContext from '../../shared/user.context';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Button, Form, Container, Row, Image, Col } from 'react-bootstrap';\r\nimport { logo } from '../../images/index' ;\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Cart} from './Cart'\r\n\r\n\r\nclass SignUp extends React.Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.apiUrl = \"http://localhost:3004/users\";\r\n      this.state = {\r\n        id: 0,\r\n        user: {},\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        redirect: false,        \r\n        validated: false,\r\n        isValid: true,\r\n        userExist: []\r\n      };\r\n\r\n      this.inputChanged = this.inputChanged.bind(this);\r\n      this.formSubmit = this.formSubmit.bind(this);\r\n  }\r\n\r\n  async inputChanged(e) { // hot plate\r\n    const value = e.currentTarget.value;\r\n    const user = this.state.user;\r\n    user[e.currentTarget.id] = value;\r\n    this.setState({user});\r\n  }\r\n  \r\n  async formSubmit(e) {\r\n    e.preventDefault();\r\n    const form = e.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      return;\r\n    } \r\n\r\n    const resp =  await axios.post(this.apiUrl, this.state.user);  \r\n    console.log(resp.data);\r\n\r\n    this.context.handleUserChange(resp.data);\r\n    this.setState({validated: true, user: resp.data, redirect: true});\r\n  }\r\n\r\n  render() {\r\n      if (this.state.redirect === true) {\r\n          return (\r\n          <Redirect to='/' />\r\n          );\r\n      }            \r\n      const {validated} = this.state;\r\n      return (\r\n        <UserContext.Consumer>\r\n          { ({ user, handleUserChange }) => (\r\n            <Container fluid className=\"sign_up_container\" >\r\n              <Row>\r\n                <Container className=\"form_container\">\r\n                    <Image src= {logo} width=\"80\" height=\"80\" className=\"d-inline-block align-top\" alt=\"React Bootstrap logo\" />\r\n                    <Col>\r\n                      \r\n                      <h2><FontAwesomeIcon icon={['fas', 'user-plus']} size={'lg'}/>SIGN UP</h2>\r\n                    </Col>\r\n                    <Form noValidate validated= {validated} onSubmit={e => this.formSubmit(e)} >\r\n                      <Form.Group className=\"form_name\">\r\n                          <Form.Control required id=\"name\" type=\"text\" value={this.state.user.name} onChange={this.inputChanged} placeholder=\"Name\" />\r\n                          <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\r\n                          <Form.Control.Feedback type=\"invalid\">Please enter a name.</Form.Control.Feedback>\r\n                      </Form.Group>\r\n                      <Form.Group className=\"form_email\">\r\n                          <Form.Control required id=\"email\" type=\"email\" value={this.state.user.email}  onChange={this.inputChanged} placeholder=\"Enter email\"  />\r\n                          <Form.Control.Feedback>Looks good!</Form.Control.Feedback>\r\n                          <Form.Control.Feedback type=\"invalid\">Please provide a valid email.</Form.Control.Feedback>\r\n                          <Form.Text className=\"text-muted\">\r\n                              We'll never share your email with anyone else.\r\n                          </Form.Text>\r\n                      </Form.Group>\r\n                      <Form.Group className=\"form_password\">\r\n                          <Form.Control required id=\"password\" type=\"password\" value={this.state.user.password}  onChange={this.inputChanged} placeholder=\"Password\" />\r\n                          <Form.Control.Feedback>Super Password!</Form.Control.Feedback>\r\n                          <Form.Control.Feedback type=\"invalid\">Please set a strong password.</Form.Control.Feedback>\r\n                      </Form.Group>\r\n                      <Form.Group className=\"form_submit\">\r\n                          <Form.Check id=\"formBasicChecbox\" type=\"checkbox\" label=\"Keep me logged in to my account\" />\r\n                      </Form.Group>\r\n                      <Button type=\"submit\" variant=\"outline-secondary\">Login</Button>\r\n                     </Form>\r\n                     <p>{!this.state.isValid ? (\"Name, email or password is missing\") : ''}</p>\r\n                  </Container>\r\n                </Row>\r\n            </Container>\r\n            // <div className=\"App\">\r\n            //     <h2>Welcome, {user.name} { this.state.userExist.map(user => user.name)}</h2>\r\n            //   {/* <ButtonToolbar>\r\n            //     <Button variant=\"primary\" onClick={() => this.setState({ modalShow: true })}> Log In </Button>\r\n            //     <ModalLogin show={this.state.modalShow} onHide={modalClose} />\r\n            //   </ButtonToolbar> */}\r\n            //     <div>\r\n            //       {/* <p>{JSON.stringify(this.state)}</p>   */}\r\n            //       <p>{ this.state.userExist.map(user => user.name)}</p>                  \r\n            //     </div>\r\n            // </div>\r\n          ) }\r\n          </UserContext.Consumer>\r\n    );\r\n  }\r\n}\r\n\r\nSignUp.contextType = UserContext;\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}